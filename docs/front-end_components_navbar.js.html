<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: front-end/components/navbar.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: front-end/components/navbar.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
import { currentObject, header } from "../index.js";
import { SettingsMenu } from "./settings/settings.js";
import { router } from "../router.js";

const template = document.createElement("template");

template.innerHTML = `
	&lt;style>
		.navigation {
			display: none; 
		}

		.nav-bar {
			position: fixed;
			width: 60px;
			height: 100%;
			top: 0;
			bottom: 0;
			left: 0;
			display: block;
			background-color: var(--navbar-background-color);
		}

		button {
			display: block;
			background-color: transparent;
			border: none;
			padding: 0;
			width: 32px;
			height: 32px;
			margin: 20px auto 44px auto;
			cursor: pointer;
		}

		button img {
			height: 100%;
			filter: var(--icon-filter);
			opacity: 50%;
		}

		button:hover img {
			opacity: 100%;
			transition: opacity 25ms;
		}

		#bottom {
			position: absolute;
			bottom: 10px;
			width: 100%;
		}

		#user {
			position: static;
			margin: 0 auto;
		}

		@media only screen and (max-width:1100px) {
			#menu {
				position: fixed;
				width: 30%;
				height: 100%;
				box-shadow: 0 0 2px #85888C;
				top: 0;
				left: 0;
				margin: 0;
				padding: 0;
				background-color: var(--navbar-background-color);
				-webkit-font-smoothing: antialiased;
			}

			#menu.closed {
				transform: translate(-100%, 0);
				transition: transform 0.5s cubic-bezier(0.77,0.2,0.05,1.0);
			}

			#menu.open {
				transform-origin: 0 0;
				transition: transform 0.5s cubic-bezier(0.77,0.2,0.05,1.0);
			}

			.nav-bar {
				display:none;
			}

			.navigation {
				display: block;
				padding: none;
				margin: none;
				width: 30vh;
				top: 0;
				left: 0;
				position:fixed;
			}

			#homeMenu {
				position: absolute;
				width: 60px;
				height: 60px;
				top: 70px;
				left: 0;
				right: 0;
				margin: auto;
			}

			#singleMenu {
				position: absolute;
				width: 60px;
				height: 60px;
				top: 180px;
				left: 0;
				right: 0;
				margin: auto;
			}

			#doubleMenu {
				position: absolute;
				width: 60px;
				height: 60px;
				top: 290px;
				left: 0;
				right: 0;
				margin: auto;
			}

			#userMenu {
				position: absolute;
				width: 65px;
				height: 65px;
				top: calc(100% - 115px);
				left: 0;
				right: 0;
				padding: 0;
				margin: 0 auto;
			}
		}

		@media only screen and (max-height: 1200px){
			#homeMenu {
				width: 40px;
				height: 40px;
			}

			#singleMenu {
				width: 40px;
				height: 40px;
				top: 150px;
			}

			#doubleMenu {
				width: 40px;
				height: 40px;
				top: 230px;
			}

			#userMenu {
				position: absolute;
				width: 45px;
				height: 45px;
				top: calc(100% - 85px);
			}
		}

		@media only screen and (max-height: 800px){
			#homeMenu {
				width: 35px;
				height: 35px;
			}

			#singleMenu {
				width: 35px;
				height: 35px;
				top: 130px;
			}

			#doubleMenu {
				width: 35px;
				height: 35px;
				top: 190px;
			}

			#userMenu {
				position: absolute;
				width: 40px;
				height: 40px;
				top: calc(100% - 65px);
			}
		}
	&lt;/style> 

	&lt;nav class="nav-bar">
		&lt;button id="home">  &lt;img src="../public/resources/home_icon.png">&lt;/button>
		&lt;button id="target">&lt;img src="../public/resources/target_icon.png">&lt;/button>
		&lt;button id="single">&lt;img src="../public/resources/left.png">&lt;/button>
		&lt;button id="double">&lt;img src="../public/resources/double_icon.png">&lt;/button>
		&lt;div id="bottom">
			&lt;button id="user">  &lt;img src="../public/resources/user.png">&lt;/button>
		&lt;/div>
	&lt;/nav>
	&lt;nav class="navigation">
		&lt;div id="menu" class="closed">
			&lt;button id="homeMenu">  &lt;img src="../public/resources/home_icon.png">&lt;/button>
			&lt;button id="singleMenu">&lt;img src="../public/resources/left.png">&lt;/button>
			&lt;button id="doubleMenu">&lt;img src="../public/resources/double_icon.png">&lt;/button>
			&lt;button id="userMenu">  &lt;img src="../public/resources/user.png">&lt;/button>
		&lt;/div>
	&lt;/nav>
`;

/**
 * Class that Creates navbar
 */
export class NavBar extends HTMLElement {
	static get observedAttributes () {
		return ["open"];
	}

	/**
	 * Navbar constructor
	 */
	constructor () {
		super();
		this.attachShadow({ mode: "open" });
		this.shadowRoot.appendChild(template.content.cloneNode(true));

		this.home = this.shadowRoot.querySelectorAll("button")[0];
		this.target = this.shadowRoot.querySelectorAll("button")[1];
		this.single = this.shadowRoot.querySelectorAll("button")[2];
		this.double = this.shadowRoot.querySelectorAll("button")[3];
		this.user = this.shadowRoot.querySelectorAll("button")[4];

		this.menu = this.shadowRoot.querySelector("#menu");
		this.homeMenu = this.shadowRoot.querySelector("#homeMenu");
		this.singleMenu = this.shadowRoot.querySelector("#singleMenu");
		this.doubleMenu = this.shadowRoot.querySelector("#doubleMenu");
		this.userMenu = this.shadowRoot.querySelector("#userMenu");
	}

	/**
	 * When a navbar instance is created sets event listeners for all header buttons in the callback
	 */
	connectedCallback () {
		this.home.addEventListener("click", () => {
			this.goHome();
		});
		this.target.addEventListener("click", () => {
			this.toggleTracker();
		});
		this.single.addEventListener("click", () => {
			this.goBack();
		});
		this.double.addEventListener("click", () => {
			this.goFarBack();
		});
		this.user.addEventListener("click", () => {
			let settingsMenu = document.querySelector("settings-menu");
			settingsMenu.toggle();
		});

		this.homeMenu.addEventListener("click", () => {
			this.goHome();
			this.open = false;
		});
		this.singleMenu.addEventListener("click", () => {
			this.goBack();
			this.open = false;
		});
		this.doubleMenu.addEventListener("click", () => {
			this.goFarBack();
			this.open = false;
		});
		this.userMenu.addEventListener("click", () => {
			let settingsMenu = document.querySelector("settings-menu");
			if (typeof settingsMenu === SettingsMenu) {
				settingsMenu.toggle();
			}
		});
	}

	/**
	 * To switches header attribute value if the value parameters differ
	 *
	 * @param {String} attr attribute to change
	 * @param {Object} oldVal old value passed in
	 * @param {Obejct} newVal new value passed in
	 */
	attributeChangedCallback (attr, oldVal, newVal) {
		if (oldVal !== newVal) {
			this[attr] = newVal;
		}
	}

	/**
	 * Goes to home page when the home button is pressed
	 */
	goHome () {
		if (document.location.hash !== null &amp;&amp; document.location.hash !== "#index" &amp;&amp; document.location.hash !== "") {
			router.setState("", false);
		}
	}

	/**
	 * Goes to the previous page when the back button is pressed
	 */
	goBack () {
		let parent = document.location.hash.includes("#dailyLog") ? "monthlyLog" : "futureLog";
		router.setState(`#${parent}~${currentObject.parent}`, false);
	}

	/**
	 * Goes to the futureLog if you are on a dailyLog when double arrow button is clicked
	 */
	goFarBack () {
		let parent = document.location.hash.includes("#dailyLog") ? "futureLog" : "index";
		localStorage.readUser((err, user) => {
			if (err === null) {
				let userArr = [];
				Array.prototype.push.apply(userArr, user.dailyLogs);
				Array.prototype.push.apply(userArr, user.monthlyLogs);
				Array.prototype.push.apply(userArr, user.futureLogs);
				Array.prototype.push.apply(userArr, user.collections);
				let parsed = userArr.filter((object) => object.id === currentObject.parent);
				let firstParent = parsed[0];
				router.setState(`#${parent}~${firstParent.parent}`, false);
			} else {
				console.log(err);
			}
		});
	}

	/**
	 * Displays tracker menu when called
	 */
	toggleTracker () {
		const trackerMenu = document.querySelector("tracker-menu");
		trackerMenu.toggle();
	}

	/**
	 * Displays header when called
	 */
	toggle () {
		this.open = !this.open;
	}

	/**
	 * Returns attributes that are open(?)
	 */
	get open () {
		return this.hasAttribute("open");
	}

	/**
	 * Menu is toggeled if parameter is true
	 *
	 * @param {Boolean} isOpen boolean to check if menu should be toggled or not
	 */
	set open (isOpen) {
		this.menu.classList.toggle("open", isOpen);
		this.menu.classList.toggle("closed", !isOpen);
		this.menu.setAttribute("aria-hidden", !isOpen)
		if (isOpen) {
			this.setAttribute("open", "true");
			this.focus();
			header.menuToggle.checked = true;
		} else {
			this.removeAttribute("open");
			header.menuToggle.checked = false;
		}
	}
}

customElements.define("nav-bar", NavBar);
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-blockControllerModule.html">blockControllerModule</a></li><li><a href="module-index.html">index</a></li><li><a href="module-localStorage.html">localStorage</a></li><li><a href="module-router.html">router</a></li><li><a href="module-schema.html">schema</a></li><li><a href="module-transitions.html">transitions</a></li></ul><h3>Namespaces</h3><ul><li><a href="createFunctions.html">createFunctions</a></li><li><a href="deleteFunctions.html">deleteFunctions</a></li><li><a href="mongoDelete.html">mongoDelete</a></li><li><a href="mongoRead.html">mongoRead</a></li><li><a href="mongoUpdate.html">mongoUpdate</a></li><li><a href="readFunctions.html">readFunctions</a></li><li><a href="securityFunctions.html">securityFunctions</a></li><li><a href="updateFunctions.html">updateFunctions</a></li></ul><h3>Classes</h3><ul><li><a href="CreationMenu.html">CreationMenu</a></li><li><a href="DropdownBlock.html">DropdownBlock</a></li><li><a href="InlineDropdown.html">InlineDropdown</a></li><li><a href="module-blockControllerModule.BlockController.html">BlockController</a></li><li><a href="NavBar.html">NavBar</a></li><li><a href="PageHeader.html">PageHeader</a></li><li><a href="TrackerBlock.html">TrackerBlock</a></li><li><a href="TrackerMenu.html">TrackerMenu</a></li></ul><h3>Global</h3><ul><li><a href="global.html#makeid">makeid</a></li></ul>
</nav>

<br class="clear">

<footer>
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Wed May 11 2022 17:01:00 GMT-0700 (Pacific Daylight Time)
=======
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Wed May 11 2022 16:59:20 GMT-0700 (Pacific Daylight Time)
>>>>>>> 353aebf (backend: changes backend to use session cookies)
=======
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Wed May 11 2022 17:01:00 GMT-0700 (Pacific Daylight Time)
>>>>>>> d017f45 (frontend: updates frontend to use new backend api)
=======
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Wed May 11 2022 17:01:00 GMT-0700 (Pacific Daylight Time)
>>>>>>> main
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
